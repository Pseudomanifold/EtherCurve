CMAKE_MINIMUM_REQUIRED( VERSION 2.6 )
PROJECT( EtherVis )

SET( CMAKE_MODULE_PATH
  ${CMAKE_MODULE_PATH}
  ${CMAKE_SOURCE_DIR}
)

FIND_PACKAGE( PCAP REQUIRED )
FIND_PACKAGE( Qt4 REQUIRED QtCore QtGui )

INCLUDE( ${QT_USE_FILE} )

QT4_WRAP_CPP(
  HEADERS_MOC
  MainWindow.hh
  PCAPWrapper.hh )

IF( CMAKE_COMPILER_IS_GNUCXX )
  SET( CMAKE_CXX_FLAGS "-Wall -pedantic" )
ENDIF()

ADD_EXECUTABLE(
  ethervis
  EtherVis.cc
  MainWindow.cc
  PCAPWrapper.cc
  ${HEADERS_MOC}
)

TARGET_LINK_LIBRARIES(
  ethervis
  ${PCAP_LIBRARIES}
  ${QT_LIBRARIES}
)
